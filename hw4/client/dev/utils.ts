export const parserVector = (tsv: string) => {
  return tsv.split("\n").map((v) => v.split("\t").map((x) => Number(x)));
};

export const parserMetadata = (tsv: string) => {
  return tsv.split("\n");
};

export const levenshteinDistance = (source: string, target: string): number => {
  let distances: number[][] = [
    [
      0,
      ...Array(target.length)
        .fill(0)
        .map((_, idx) => idx + 1),
    ],
  ];
  for (let [i, c1] of source.split("").entries()) {
    distances.push([i + 1]);
    for (let [j, c2] of target.split("").entries()) {
      let ins = distances[i + 1][j] + 1;
      let del = distances[i][j + 1] + 1;
      let sub = distances[i][j] + (c1 == c2 ? 0 : 1);
      distances[i + 1].push(Math.min(ins, del, sub));
    }
  }
  return distances?.at(-1)?.at(-1) ?? NaN;
};

export const stopWord = new Set([
  "about",
  "again",
  "al",
  "all",
  "almost",
  "also",
  "although",
  "always",
  "among",
  "an",
  "and",
  "another",
  "any",
  "are",
  "as",
  "at",
  "be",
  "because",
  "been",
  "before",
  "being",
  "between",
  "both",
  "but",
  "by",
  "can",
  "could",
  "did",
  "do",
  "does",
  "done",
  "due",
  "during",
  "each",
  "eight",
  "either",
  "enough",
  "especially",
  "et.",
  "et",
  "etc",
  "five",
  "for",
  "found",
  "four",
  "from",
  "further",
  "had",
  "has",
  "have",
  "having",
  "here",
  "how",
  "however",
  "i",
  "ie",
  "if",
  "in",
  "into",
  "is",
  "it",
  "its",
  "itself",
  "just",
  "kg",
  "km",
  "made",
  "mainly",
  "make",
  "may",
  "mg",
  "might",
  "ml",
  "mm",
  "many",
  "most",
  "mostly",
  "must",
  "nearly",
  "neither",
  "nine",
  "no",
  "nor",
  "not",
  "obtained",
  "of",
  "often",
  "on",
  "one",
  "or",
  "our",
  "overall",
  "perhaps",
  "quite",
  "rather",
  "really",
  "regarding",
  "seem",
  "seen",
  "seven",
  "several",
  "should",
  "show",
  "showed",
  "shown",
  "shows",
  "significantly",
  "since",
  "six",
  "so",
  "some",
  "such",
  "ten",
  "than",
  "that",
  "the",
  "their",
  "theirs",
  "them",
  "then",
  "there",
  "therefore",
  "these",
  "they",
  "this",
  "those",
  "three",
  "through",
  "thus",
  "to",
  "two",
  "upon",
  "use",
  "used",
  "using",
  "various",
  "very",
  "was",
  "we",
  "were",
  "what",
  "when",
  "where",
  "whether",
  "which",
  "while",
  "who",
  "why",
  "with",
  "within",
  "without",
]);
